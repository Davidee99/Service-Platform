<form
  class="landing-page-form"
  #myForm="ngForm"
  (ngSubmit)="submitForm(myForm)"
>
  <div class="title-form">
    <h2>Create Ticket</h2>
  </div>
  <mat-form-field class="landing-page-form-field">
    <mat-label>Firstname</mat-label>
    <input
      matInput
      placeholder="Firstname"
      required
      [(ngModel)]="userData.firstname"
      name="firstname"
      minlength="3"
      maxlength="20"
    />
    <div
      *ngIf="
        myForm.controls['firstname'] &&
        myForm.controls['firstname'].invalid &&
        (myForm.controls['firstname'].dirty ||
          myForm.controls['firstname'].touched)
      "
    >
      <p *ngIf="myForm.controls['firstname'].errors!['required']">
        Firstname is required
      </p>
      <p *ngIf="myForm.controls['firstname'].errors!['minlength']">
        Firstname must be at least 3 characters long
      </p>
    </div>
  </mat-form-field>

  <mat-form-field class="landing-page-form-field">
    <mat-label>Lastname</mat-label>
    <input
      matInput
      [(ngModel)]="userData.lastname"
      placeholder="Lastname"
      name="lastname"
      required
      minlength="3"
      maxlength="20"
    />
    <div
      *ngIf="
        myForm.controls['lastname'] &&
        myForm.controls['lastname'].invalid &&
        myForm.controls['lastname'].invalid &&
        (myForm.controls['lastname'].dirty ||
          myForm.controls['lastname'].touched)
      "
    >
      <p *ngIf="myForm.controls['lastname'].errors!['required']">
        Lastname is required
      </p>
      <p *ngIf="myForm.controls['lastname'].errors!['minlength']">
        Lastname must be at least 3 characters long
      </p>
    </div>
  </mat-form-field>

  <mat-form-field class="landing-page-form-field">
    <mat-label>Email</mat-label>
    <input
      matInput
      [(ngModel)]="userData.email"
      placeholder="Email"
      name="email"
      required
      email
    />
    <div
      *ngIf="
        myForm.controls['email'] &&
        myForm.controls['email'].invalid &&
        (myForm.controls['email'].dirty || myForm.controls['email'].touched)
      "
    >
      <p *ngIf="myForm.controls['email'].errors!['required']">
        Email is required
      </p>
      <p *ngIf="myForm.controls['email'].errors!['email']">
        The email format is incorrect, use &#64;
      </p>
    </div>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Type</mat-label>
    <mat-select [(ngModel)]="userData.type" name="type" required>
      <mat-option value="PRODUCT">PRODUCT</mat-option>
      <mat-option value="REFUND">REFUND</mat-option>
    </mat-select>
    <div
      *ngIf="
        myForm.controls['type'] &&
        myForm.controls['type'].invalid &&
        (myForm.controls['type'].dirty || myForm.controls['type'].touched)
      "
    >
      <p *ngIf="myForm.controls['type'].errors!['required']">Select a type</p>
    </div>
  </mat-form-field>

  <mat-form-field class="landing-page-form-field">
    <mat-label>Issues details </mat-label>
    <textarea
      matInput
      placeholder="Issues detail"
      [(ngModel)]="userData.message"
      required
      name="message"
      minlength="5"
      maxlength="10000000"
    ></textarea>
    <div
      *ngIf="
        myForm.controls['message'] &&
        myForm.controls['message'].invalid &&
        (myForm.controls['message'].dirty || myForm.controls['message'].touched)
      "
    >
      <p *ngIf="myForm.controls['message'].errors!['required']">
        Message is required
      </p>
      <p *ngIf="myForm.controls['message'].errors!['minlength']">
        Message must be at least 3 characters long
      </p>
    </div>
  </mat-form-field>

  <p *ngIf="myForm.touched && myForm.invalid" style="color: red">
    * required fields
  </p>

  <div class="landing-page-form-button">
    <button mat-raised-button color="primary">Send</button>
  </div>
</form>
